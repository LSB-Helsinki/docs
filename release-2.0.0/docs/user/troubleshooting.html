

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Troubleshooting &mdash; Scipion 2.0.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../static/documentation_options.js"></script>
        <script type="text/javascript" src="../../static/jquery.js"></script>
        <script type="text/javascript" src="../../static/underscore.js"></script>
        <script type="text/javascript" src="../../static/doctools.js"></script>
        <script type="text/javascript" src="../../static/language_data.js"></script>
    
    <script type="text/javascript" src="../../static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> Scipion
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Set up</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/install-from-sources.html">Installing from sources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/scipion-configuration.html">Scipion configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../scipion-modes/host-configuration.html">Host configuration</a></li>
</ul>
<p class="caption"><span class="caption-text">User documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="user-documentation.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-documentation.html#graphical-interface-manuals">Graphical interface manuals</a></li>
<li class="toctree-l1"><a class="reference internal" href="user-documentation.html#processing-how-to-s">Processing How To’s</a></li>
</ul>
<p class="caption"><span class="caption-text">Developer documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../developer/developers.html">Developers Page</a></li>
</ul>
<p class="caption"><span class="caption-text">Facilities</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../facilities/facilities.html">Streaming Processing</a></li>
</ul>
<p class="caption"><span class="caption-text">API Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api/pyworkflow.html">pyworkflow package</a></li>
</ul>
<p class="caption"><span class="caption-text">Get in touch</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../misc/contact-us.html">Contact Us</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Scipion</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Troubleshooting</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../sources/docs/user/troubleshooting.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="troubleshooting">
<span id="id1"></span><h1><a class="toc-backref" href="#id2">Troubleshooting</a><a class="headerlink" href="#troubleshooting" title="Permalink to this headline">¶</a></h1>
<p>This page compiles a list of common errors that can appear when
using Scipion.</p>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#troubleshooting" id="id2">Troubleshooting</a><ul>
<li><a class="reference internal" href="#fixing-fonts-in-ubuntu-18" id="id3">Fixing fonts in Ubuntu 18</a></li>
<li><a class="reference internal" href="#launching-eman-boxer-protocol" id="id4">Launching Eman boxer protocol</a></li>
<li><a class="reference internal" href="#compiling-scipion-with-opencv" id="id5">Compiling Scipion with OpenCV</a></li>
<li><a class="reference internal" href="#scipion-freezes-after-click-on-open-bibtex" id="id6">Scipion freezes after click on open bibtex</a></li>
<li><a class="reference internal" href="#compiling-scipion-in-opensuse" id="id7">Compiling Scipion in Opensuse</a></li>
<li><a class="reference internal" href="#endless-list-of-cuda-related-errors" id="id8">Endless list of CUDA related errors</a></li>
<li><a class="reference internal" href="#requirement-already-satisfied" id="id9">Requirement already satisfied</a></li>
<li><a class="reference internal" href="#importerror-cannot-import-name-httpshandler" id="id10">ImportError: cannot import name HTTPSHandler</a></li>
<li><a class="reference internal" href="#launching-xmipp3-cl2d-protocol" id="id11">Launching XMIPP3 CL2D protocol</a></li>
<li><a class="reference internal" href="#importerror-libgfortran-so-3" id="id12">ImportError: libgfortran.so.3</a></li>
<li><a class="reference internal" href="#bigtiff-in-claudio" id="id13">bigtiff in Claudio</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="fixing-fonts-in-ubuntu-18">
<h2><a class="toc-backref" href="#id3">Fixing fonts in Ubuntu 18</a><a class="headerlink" href="#fixing-fonts-in-ubuntu-18" title="Permalink to this headline">¶</a></h2>
<p>The Scipion font is not right in Ubuntu 18. A temporary fix for this is to
move all TK and TCL files in <cite>software/lib</cite> and use the system ones.</p>
</div>
<div class="section" id="launching-eman-boxer-protocol">
<h2><a class="toc-backref" href="#id4">Launching Eman boxer protocol</a><a class="headerlink" href="#launching-eman-boxer-protocol" title="Permalink to this headline">¶</a></h2>
<p>If you see an error like ‘<em>Cannot mix incompatible Qt library (version
0x40806) with this library (version 0x40804)</em>’. This means the Qt
installed on your computer is conflicting with the Qt distributed with
EMAN2. In most cases it gets solved by removing the Qt that comes with
EMAN2 from EMAN2DIR/extlib/lib.</p>
</div>
<hr class="docutils" />
<div class="section" id="compiling-scipion-with-opencv">
<h2><a class="toc-backref" href="#id5">Compiling Scipion with OpenCV</a><a class="headerlink" href="#compiling-scipion-with-opencv" title="Permalink to this headline">¶</a></h2>
<p>If you have problems compiling Scipion with OpenCV support (CUDA version
&gt;=6.5), e.g. opencv-2.4.9 compilation fails with an error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Error</span><span class="p">:</span> <span class="n">target</span> <span class="s1">&#39;software/lib/libopencv_core.so&#39;</span> <span class="ow">not</span> <span class="n">built</span> <span class="p">(</span><span class="n">after</span> <span class="n">running</span> <span class="s1">&#39;make install &gt; /home/user/soft/scipion/software/log/opencv_make_install.log 2&gt;&amp;1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>And log file (<em>software/log/opencv_make.log</em>) shows something like:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[ 9%] Building NVCC (Device) object modules/core/CMakeFiles/cuda_compile.dir/src/cuda/cuda_compile_generated_gpu_mat.cu.o
/usr/include/string.h: In function ‘void* __mempcpy_inline(void, const void, size_t)’:
/usr/include/string.h:652:42: error: ‘memcpy’ was not declared in this scope
return (char *) memcpy (__dest, __src, __n) + __n;
^
CMake Error at cuda_compile_generated_gpu_mat.cu.o.cmake:264 (message):
Error generating file
/home/mag/opencv/build_opencv_master/modules/core/CMakeFiles/cuda_compile.dir/src/cuda/./cuda_compile_generated_gpu_mat.cu.o
</pre></div>
</div>
<p>Then:</p>
<ol class="arabic simple">
<li><a class="reference external" href="https://en.wikipedia.org/wiki/Nvidia_Tesla">Find</a> the
micro-architecture name for your GPU card, e.g. Kepler for K40 or
Fermi for M2070 card</li>
<li><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">$SCIPION_HOME/software/tmp/opencv-2.4.9</span></code></li>
<li>Run
<code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">-DCUDA_GENERATION=Kepler</span> <span class="pre">-DWITH_CUDA:BOOL=ON</span> <span class="pre">-DCMAKE_INSTALL_PREFIX:PATH=/path/to/scipion/software</span> <span class="pre">.</span> <span class="pre">&gt;</span> <span class="pre">/path/to/scipion/software/log/opencv_cmake.log</span> <span class="pre">2&gt;&amp;1</span></code>
substituting correct path and micro-architecture</li>
<li>Modify source files in opencv-2.4.9 folder according to
<a class="reference external" href="https://github.com/opencv/opencv/pull/2975/files">this</a> and <a class="reference external" href="https://github.com/guysoft/opencv/commit/0a48b9ae776a03e1c4f09e7e3cd0e1c21f3ca75c">this
fix</a></li>
<li>Re-run <code class="docutils literal notranslate"><span class="pre">scipion</span> <span class="pre">install</span></code>, opencv now should compile cleanly ***</li>
</ol>
</div>
<div class="section" id="scipion-freezes-after-click-on-open-bibtex">
<h2><a class="toc-backref" href="#id6">Scipion freezes after click on open bibtex</a><a class="headerlink" href="#scipion-freezes-after-click-on-open-bibtex" title="Permalink to this headline">¶</a></h2>
<p>This likely happens because your machine doesn’t have a default program
to open bibtex. Type this in your terminal to set gedit as your default
program for bibtex files:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">xdg</span><span class="o">-</span><span class="n">mime</span> <span class="n">default</span> <span class="n">gedit</span><span class="o">.</span><span class="n">desktop</span> <span class="n">text</span><span class="o">/</span><span class="n">x</span><span class="o">-</span><span class="n">bibtex</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="compiling-scipion-in-opensuse">
<h2><a class="toc-backref" href="#id7">Compiling Scipion in Opensuse</a><a class="headerlink" href="#compiling-scipion-in-opensuse" title="Permalink to this headline">¶</a></h2>
<p>Scipion instalationin Opensuse sometimes involves a few drawbacks. Once
in the terminal the compilation has been launched,
<code class="docutils literal notranslate"><span class="pre">./scipion</span> <span class="pre">install</span></code>, stop the installation (<code class="docutils literal notranslate"><span class="pre">Crtl+C</span></code>). It is
neccesary to change the python version (download python 2.7.13). Copy
the download file to <code class="docutils literal notranslate"><span class="pre">scipion\software\tmp\</span></code> and edit next file
<code class="docutils literal notranslate"><span class="pre">scipion\software\install\script.py</span></code></p>
<p>The line in which the python version is specified must be modified by
the downloaded version 2.7.13, it means to substitute the old version
2.7.8 by 2.7.13. Finally we can go to the terminal again and relaunch
the installation by doing <code class="docutils literal notranslate"><span class="pre">./scipion</span> <span class="pre">install</span></code>.</p>
</div>
<hr class="docutils" />
<div class="section" id="endless-list-of-cuda-related-errors">
<h2><a class="toc-backref" href="#id8">Endless list of CUDA related errors</a><a class="headerlink" href="#endless-list-of-cuda-related-errors" title="Permalink to this headline">¶</a></h2>
<p><strong>Conditions</strong> * CUDA set to True (in <code class="docutils literal notranslate"><span class="pre">config\scipion.conf</span></code>) *
Multiple CUDA versions are installed</p>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">cuda</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">crt</span><span class="o">/</span><span class="n">common_functions</span><span class="o">.</span><span class="n">h</span><span class="p">:</span><span class="mi">64</span><span class="p">:</span><span class="mi">0</span><span class="p">:</span> <span class="n">warning</span><span class="p">:</span> <span class="s2">&quot;__CUDACC_VER__&quot;</span> <span class="n">redefined</span> <span class="c1">#define __CUDACC_VER__ &quot;__CUDACC_VER__ is no longer supported. Use __CUDACC_VER_MAJOR__, __CUDACC_VER_MINOR__, and __CUDACC_VER_BUILD__ instead.&quot; ^ &lt;command-line&gt;:0:0: note: this is the location of the previous definition</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">usr</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">cuda</span><span class="o">/</span><span class="n">include</span><span class="o">/</span><span class="n">device_atomic_functions</span><span class="o">.</span><span class="n">h</span><span class="p">(</span><span class="mi">107</span><span class="p">):</span> <span class="n">warning</span><span class="p">:</span> <span class="n">missing</span> <span class="k">return</span> <span class="n">statement</span> <span class="n">at</span> <span class="n">end</span> <span class="n">of</span> <span class="n">non</span><span class="o">-</span><span class="n">void</span> <span class="n">function</span> <span class="s2">&quot;atomicAdd&quot;</span>
</pre></div>
</div>
<p><strong>Cause</strong></p>
<p>Version conflict while linking</p>
<p><strong>Fix</strong></p>
<p>make sure that all paths to *CUDA* and *NVCC* in
<code class="docutils literal notranslate"><span class="pre">config\scipion.conf</span></code> are absolute</p>
</div>
<hr class="docutils" />
<div class="section" id="requirement-already-satisfied">
<h2><a class="toc-backref" href="#id9">Requirement already satisfied</a><a class="headerlink" href="#requirement-already-satisfied" title="Permalink to this headline">¶</a></h2>
<p><strong>Conditions</strong> 1. you had Scipion already installed (from source) 2.
later on you installed numpy again (e.g. with pandas) 3. you want to
reinstall Scipion (from source)</p>
<p><strong>Example</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Building</span> <span class="n">numpy</span> <span class="o">...</span>
<span class="n">python</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/</span><span class="n">Scipion</span><span class="o">/</span><span class="n">software</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">pip</span> <span class="n">install</span> <span class="n">numpy</span><span class="o">==</span><span class="mf">1.14</span><span class="o">.</span><span class="mi">1</span>
<span class="n">Requirement</span> <span class="n">already</span> <span class="n">satisfied</span><span class="p">:</span> <span class="n">numpy</span><span class="o">==</span><span class="mf">1.14</span><span class="o">.</span><span class="mi">1</span> <span class="ow">in</span> <span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">user</span><span class="o">/.</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span>
<span class="n">Error</span><span class="p">:</span> <span class="n">target</span> <span class="s1">&#39;/home/user/Scipion/software/lib/python2.7/site-packages/numpy&#39;</span> <span class="ow">not</span> <span class="n">built</span> <span class="p">(</span><span class="n">after</span> <span class="n">running</span> <span class="s1">&#39;python /home/user/Scipion/software/lib/python2.7/site-packages/pip install numpy==1.14.1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Cause</strong></p>
<p>Numpy version conflict?</p>
<p><strong>Fix</strong></p>
<p>uninstall Scipion’s version of numpy</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scipion</span> <span class="n">run</span> <span class="n">pip</span> <span class="n">uninstall</span> <span class="n">numpy</span>
<span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="n">software</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">numpy</span>
</pre></div>
</div>
<p>run install again</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scipion</span> <span class="n">install</span> <span class="o">-</span><span class="n">j</span> <span class="mi">8</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="importerror-cannot-import-name-httpshandler">
<h2><a class="toc-backref" href="#id10">ImportError: cannot import name HTTPSHandler</a><a class="headerlink" href="#importerror-cannot-import-name-httpshandler" title="Permalink to this headline">¶</a></h2>
<p><strong>Example</strong></p>
<div class="code python highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Building</span> <span class="n">pip</span> <span class="o">...</span>
<span class="n">python</span> <span class="n">scripts</span><span class="o">/</span><span class="n">get</span><span class="o">-</span><span class="n">pip</span><span class="o">.</span><span class="n">py</span> <span class="o">-</span><span class="n">I</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">setuptools</span>
<span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;scripts/get-pip.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">19177</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="n">main</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">&quot;scripts/get-pip.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">194</span><span class="p">,</span> <span class="ow">in</span> <span class="n">main</span>
    <span class="n">bootstrap</span><span class="p">(</span><span class="n">tmpdir</span><span class="o">=</span><span class="n">tmpdir</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;scripts/get-pip.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">82</span><span class="p">,</span> <span class="ow">in</span> <span class="n">bootstrap</span>
    <span class="kn">import</span> <span class="nn">pip</span>
  <span class="n">File</span> <span class="s2">&quot;/tmp/tmpXJbtSy/pip.zip/pip/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">16</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="c1"># *</span>
  <span class="n">File</span> <span class="s2">&quot;/tmp/tmpXJbtSy/pip.zip/pip/vcs/subversion.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">9</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
  <span class="n">File</span> <span class="s2">&quot;/tmp/tmpXJbtSy/pip.zip/pip/index.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">30</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
  <span class="n">File</span> <span class="s2">&quot;/tmp/tmpXJbtSy/pip.zip/pip/wheel.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">39</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
  <span class="n">File</span> <span class="s2">&quot;/tmp/tmpXJbtSy/pip.zip/pip/_vendor/distlib/scripts.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">14</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
  <span class="n">File</span> <span class="s2">&quot;/tmp/tmpXJbtSy/pip.zip/pip/_vendor/distlib/compat.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">31</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
<span class="ne">ImportError</span><span class="p">:</span> <span class="n">cannot</span> <span class="kn">import</span> <span class="nn">name</span> <span class="n">HTTPSHandler</span>
<span class="n">Error</span><span class="p">:</span> <span class="n">target</span> <span class="s1">&#39;scipion/software/lib/python2.7/site-packages/pip&#39;</span> <span class="ow">not</span> <span class="n">built</span> <span class="p">(</span><span class="n">after</span> <span class="n">running</span> <span class="s1">&#39;python scripts/get-pip.py -I --no-setuptools&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p><strong>Cause</strong></p>
<p>Missing libssl-dev</p>
<p><strong>Fix</strong></p>
<div class="code bash highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">apt</span><span class="o">-</span><span class="n">get</span> <span class="n">install</span> <span class="n">libssl</span><span class="o">-</span><span class="n">dev</span>
<span class="n">rm</span> <span class="o">-</span><span class="n">rf</span> <span class="n">software</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">python</span><span class="o">*</span> <span class="n">software</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span>
<span class="o">./</span><span class="n">scipion</span> <span class="n">install</span>
</pre></div>
</div>
</div>
<hr class="docutils" />
<div class="section" id="launching-xmipp3-cl2d-protocol">
<h2><a class="toc-backref" href="#id11">Launching XMIPP3 CL2D protocol</a><a class="headerlink" href="#launching-xmipp3-cl2d-protocol" title="Permalink to this headline">¶</a></h2>
<p>If executing Xmipp3-cl2d protocol fails with an error:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.../</span><span class="n">Scipion</span><span class="o">/</span><span class="n">Projects</span><span class="o">/</span><span class="n">release</span><span class="o">-</span><span class="mf">1.2</span><span class="o">.</span><span class="mi">1</span><span class="o">/</span><span class="n">scipion</span><span class="o">/</span><span class="n">software</span><span class="o">/</span><span class="n">em</span><span class="o">/</span><span class="n">xmipp</span><span class="o">/</span><span class="nb">bin</span><span class="o">/</span><span class="n">xmipp_mpi_classify_CL2D</span><span class="p">:</span> <span class="n">error</span> <span class="k">while</span> <span class="n">loading</span> <span class="n">shared</span> <span class="n">libraries</span><span class="p">:</span> <span class="n">libmpi</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">1</span><span class="p">:</span> <span class="n">cannot</span> <span class="nb">open</span> <span class="n">shared</span> <span class="nb">object</span> <span class="n">file</span><span class="p">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="ow">or</span> <span class="n">directory</span>
<span class="o">...</span>
<span class="o">...</span>
<span class="o">...</span>
<span class="n">Protocol</span> <span class="n">failed</span><span class="p">:</span> <span class="n">Command</span> <span class="s1">&#39;mpirun -np 4 -bynode  `which xmipp_mpi_classify_CL2D` -i</span>
<span class="n">Runs</span><span class="o">/</span><span class="mi">002697</span><span class="n">_XmippProtCL2D</span><span class="o">/</span><span class="n">tmp</span><span class="o">/</span><span class="n">input_particles</span><span class="o">.</span><span class="n">xmd</span> <span class="o">--</span><span class="n">odir</span> <span class="n">Runs</span><span class="o">/</span><span class="mi">002697</span><span class="n">_XmippProtCL2D</span><span class="o">/</span><span class="n">extra</span> <span class="o">--</span><span class="n">oroot</span> <span class="n">level</span> <span class="o">--</span><span class="n">nref</span> <span class="mi">8</span>
<span class="o">--</span><span class="nb">iter</span> <span class="mi">10</span>  <span class="o">--</span><span class="n">distance</span> <span class="n">correlation</span> <span class="o">--</span><span class="n">classicalMultiref</span> <span class="o">--</span><span class="n">nref0</span> <span class="mi">2</span><span class="s1">&#39; returned non-zero exit status 127</span>
</pre></div>
</div>
<p>This means that the libmpi.so.1 library installed on your computer
cannot open.</p>
<p>** Fix **</p>
<p>Create a symbolic link to this library at the location of the libmpi.so
library.</p>
<p>Example:</p>
<p>ln -s /usr/lib/libmpi.so /usr/lib/libmpi.so.1</p>
</div>
<div class="section" id="importerror-libgfortran-so-3">
<h2><a class="toc-backref" href="#id12">ImportError: libgfortran.so.3</a><a class="headerlink" href="#importerror-libgfortran-so-3" title="Permalink to this headline">¶</a></h2>
<p>This has been reported on an UBUNTU-18 machine using binaries, but may
happen at compile time using sources. It was happening when launching
scipion. The error reported looked like this:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/pyworkflow/apps/pw_manager.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">32</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">pyworkflow.gui.project</span> <span class="k">import</span> <span class="n">ProjectManagerWindow</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/pyworkflow/gui/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">27</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">gui</span> <span class="k">import</span> <span class="o">*</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/pyworkflow/gui/gui.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">34</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">pyworkflow.utils.properties</span> <span class="k">import</span> <span class="n">Message</span><span class="p">,</span> <span class="n">Color</span><span class="p">,</span> <span class="n">Icon</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/pyworkflow/utils/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">30</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">utils</span> <span class="k">import</span> <span class="o">*</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/pyworkflow/utils/utils.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">32</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/software/lib/python2.7/site-packages/numpy/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">153</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">.</span> <span class="k">import</span> <span class="n">add_newdocs</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/software/lib/python2.7/site-packages/numpy/add_newdocs.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">13</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">numpy.lib</span> <span class="k">import</span> <span class="n">add_newdoc</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/software/lib/python2.7/site-packages/numpy/lib/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">18</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">.polynomial</span> <span class="k">import</span> <span class="o">*</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/software/lib/python2.7/site-packages/numpy/lib/polynomial.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">19</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">numpy.linalg</span> <span class="k">import</span> <span class="n">eigvals</span><span class="p">,</span> <span class="n">lstsq</span><span class="p">,</span> <span class="n">inv</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/software/lib/python2.7/site-packages/numpy/linalg/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">50</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">.linalg</span> <span class="k">import</span> <span class="o">*</span>
  <span class="n">File</span> <span class="s2">&quot;/home/xxx/bin/scipion/software/lib/python2.7/site-packages/numpy/linalg/linalg.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">29</span><span class="p">,</span> <span class="ow">in</span> <span class="o">&lt;</span><span class="n">module</span><span class="o">&gt;</span>
    <span class="kn">from</span> <span class="nn">numpy.linalg</span> <span class="k">import</span> <span class="n">lapack_lite</span><span class="p">,</span> <span class="n">_umath_linalg</span>
<span class="ne">ImportError</span><span class="p">:</span> <span class="n">libgfortran</span><span class="o">.</span><span class="n">so</span><span class="o">.</span><span class="mi">3</span><span class="p">:</span> <span class="n">cannot</span> <span class="nb">open</span> <span class="n">shared</span> <span class="nb">object</span> <span class="n">file</span><span class="p">:</span> <span class="n">No</span> <span class="n">such</span> <span class="n">file</span> <span class="ow">or</span> <span class="n">directory</span>
</pre></div>
</div>
<p><strong>Cause</strong>: Missing libgfortran.so.3</p>
<p><strong>Fix</strong> :</p>
<p>The missing library can be installed using:
<code class="docutils literal notranslate"><span class="pre">sudo</span> <span class="pre">apt-get</span> <span class="pre">install</span> <span class="pre">libgfortran3</span></code></p>
</div>
<div class="section" id="bigtiff-in-claudio">
<h2><a class="toc-backref" href="#id13">bigtiff in Claudio</a><a class="headerlink" href="#bigtiff-in-claudio" title="Permalink to this headline">¶</a></h2>
<p>We have updated the tiff library to handle BIGtiff data and it will be
available from Scipion version 2.0.0. If you are running Claudio
(v1.2.1) there are some steps you can follow to enable Scipion to work
with bigtiff data. Please, take into account that this hasn’t been
extensively tested but all our tests where successful. Our
recommendation would be to wait for v2.0 release (Spring 2019 aprox.).</p>
<p><strong>Fix:</strong></p>
<p>If you are determined to move forward follow this steps:</p>
<ol class="arabic simple">
<li>open a terminal and cd to the scipion folder</li>
<li>backup your old libtiff files:</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">mkdir</span> <span class="n">software</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">old_tiff</span>
<span class="n">mv</span> <span class="n">software</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">libtiff</span><span class="o">*</span> <span class="n">software</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">old_tiff</span><span class="o">/</span>
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li>modify scipion to use libtiff 4.0.10 (bigtiff lib)</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">sed</span> <span class="pre">-i</span> <span class="pre">-e</span> <span class="pre">s/tiff-3.9.4/tiff-4.0.10/</span> <span class="pre">install/script.py</span></code></p>
<ol class="arabic simple" start="4">
<li>Tell scipion to install bigtiff</li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">./scipion</span> <span class="pre">install</span> <span class="pre">tiff</span> <span class="pre">--no-xmipp</span></code></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Scipion team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: release-2.0.0
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="troubleshooting.html">release-2.0.0</a></dd>
        </dl>
    </div>
</div>


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>